<html>

	<head>
	
		<title>Lab 1 - AJAX</title>
	
		<script>
			function init()
			{
				usn = document.getElementById("usn");
				studentName = document.getElementById("iname");
				dept = document.getElementById("dept");
				gpa = document.getElementById("gpa");
				elect = document.getElementById("elect");
				hobbies = document.getElementById("hobbies");
				usnMsg= document.getElementById("msg");
			}
	
			function getDetails()
			{
				usnMsg.innerHTML = "";
				document.getElementById("ifr").src = "action.php?usn="+usn.value;
			}
		
			function setFields(result)
			{
				list=result.split(",");
				studentName.value = list[0];
				dept.value = list[1];
				gpa.value = list[2];    
			}
			
			function error()
			{
				usnMsg.innerHTML = "&nbsp;&nbsp;Invalid USN";
				name.value = "";
				dept.value = "";
				gpa.value = "";	
			}
		
			function validate()
			{
				if(usn.value == '' || studentName.value == '' || dept.value == '' ||  gpa.value == '' ||  elect.value == '' ||  hobbies.value == '')
					return false;
				
				return true;
			}
		
		</script>
	</head>
	
	<body onload="init()">
		<h1> STUDENT DETAILS </h1>
		
		<form method="POST" action="submit.php" onsubmit="return validate()">
			<label>USN
				<input type="text" name="usn" id="usn" onblur="getDetails()" />
			</label>
			<label id="msg"></label>
			<br>
			
			
				
				
			<label>Name
				<input type="text" id="iname" readonly />
			</label>
			<br>
		
			<label>Department
				<input type="text" name="dept" id="dept" readonly />
			</label>
			<br>
		
			<label>GPA
				<input type="text" name="gpa" id="gpa" readonly />
			</label>
			<br>
		
			<label>Electives chosen
				<input type="text" name="elect" id="elect"  />
			</label>
			<br>

			<label>Hobbies
				<input type="text" name="hobbies" id="hobbies"  />
			</label>
			<br>
			
			<input type="submit" value="Go"/>
		</form>
		
		<iframe id="ifr" style="display:none;" />
	</body>
</html>
